{% extends 'main.html' %}
{% load custom_filters %}
{% block content %}
<main class="content"> 
  <div class="container">
    <div class="current-weather">
      {% for forecast in dict %}
        {% if forecast.datetime.date == today %}
          <div class="header">
            <h1>{{ forecast.place }}</h1>
            <h1>{{ forecast.location }}</h1>
            <h4 class="date">{{ forecast.datetime|date:"l"|translate_day }}, {{ forecast.datetime|date:"d" }} tháng {{ forecast.datetime|date:"m" }} năm {{ forecast.datetime|date:"Y" }}</h4>
          </div>
          <div class="temperature">Nhiệt độ cao nhất: {{ forecast.tempmax|floatformat:0 }}°C</div>
          <div class="temperature">Nhiệt độ thấp nhất: {{ forecast.tempmin|floatformat:0 }}°C</div>
          <div class="description">Độ ẩm: {{ forecast.humidity|floatformat:0 }}%</div>
        {% endif %}
      {% endfor %}
    </div>

    <div class="forecast">
      <h2>Thời tiết những ngày tiếp theo</h2>
      {% for forecast in dict %}
        {% if forecast.datetime.date > today %}
          <div class="forecast-day">
            <h4 class="date">{{ forecast.datetime|date:"l"|translate_day }} {{ forecast.datetime|date:"d-m-Y" }}</h4>
            <div class="info">
              <div class="high">Nhiệt độ cao nhất: {{ forecast.tempmax|floatformat:1 }}°C</div>
              <div class="low">Nhiệt độ thấp nhất: {{ forecast.tempmin|floatformat:1 }}°C</div>
              <div class="humidity">Độ ẩm: {{ forecast.humidity|floatformat:0 }}%</div>
            </div>
          </div>
        {% endif %}
      {% endfor %}
    </div>
  </div>
</main>
{% endblock %}
